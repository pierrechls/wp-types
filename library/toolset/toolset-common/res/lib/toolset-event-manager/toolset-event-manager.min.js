(function(b,c){var a=function(){var m=Array.prototype.slice;var n={removeFilter:e,applyFilters:g,addFilter:h,removeAction:f,doAction:j,addAction:k};var p={actions:{},filters:{}};function k(s,t,r,q){if(typeof s==="string"&&typeof t==="function"){r=parseInt((r||10),10);i("actions",s,t,r,q)}return n}function j(){var q=m.call(arguments);var r=q.shift();if(typeof r==="string"){d("actions",r,q)}return n}function f(q,r){if(typeof q==="string"){o("actions",q,r)}return n}function h(s,t,r,q){if(typeof s==="string"&&typeof t==="function"){r=parseInt((r||10),10);i("filters",s,t,r,q)}return n}function g(){var q=m.call(arguments);var r=q.shift();if(typeof r==="string"){return d("filters",r,q)}return n}function e(q,r){if(typeof q==="string"){o("filters",q,r)}return n}function o(u,v,w,s){var q,t,r;if(!p[u][v]){return}if(!w){p[u][v]=[]}else{q=p[u][v];if(!s){for(r=q.length;r--;){if(q[r].callback===w){q.splice(r,1)}}}else{for(r=q.length;r--;){t=q[r];if(t.callback===w&&t.context===s){q.splice(r,1)}}}}}function i(t,v,w,s,r){var u={callback:w,priority:s,context:r};var q=p[t][v];if(q){q.push(u);q=l(q)}else{q=[u]}p[t][v]=q}function l(r){var v,t,s;for(var u=1,q=r.length;u<q;u++){v=r[u];t=u;while((s=r[t-1])&&s.priority>v.priority){r[t]=r[t-1];--t}r[t]=v}return r}function d(u,v,s){var r=p[u][v],t,q;if(!r){return(u==="filters")?s[0]:false}q=r.length;if(u==="filters"){for(t=0;t<q;t++){s[0]=r[t].callback.apply(r[t].context,s)}}else{for(t=0;t<q;t++){r[t].callback.apply(r[t].context,s)}}return(u==="filters")?s[0]:true}return n};b.Toolset=b.Toolset||{};b.Toolset.hooks=new a()})(window);